# **OWON 小欧AI 助手 - “FAQ常见问答集”功能需求文档**

## 1. 功能概述

**FAQ 常见问答集**是一个精心整理、易于访问的知识中心，旨在为您快速解答产品和服务相关的常见疑问。它汇集了用户普遍关注的问题及其官方解答，涵盖了从基础操作、功能特性到故障排除等各个方面。

通过 **FAQ 常见问答集**，可以：

* **快速查找信息：** 轻松找到您最关心问题的答案，无需等待。
* **高效解决问题：** 针对常见使用场景和技术难题，提供即时、有效的解决方案。
* **深入了解产品：** 全面掌握产品功能和最佳实践，提升使用体验。

具体功能如下：
- 需要增加一个用户页面FAQ，用于展示常见问答集，入口从左侧导航栏进入（显示为：图标+FAQ常见问答集），页面包含：问题(包含信息：仪器类型，系列，型号，软件版本，问题详述)，答案，点赞（点赞数，点赞用户），复制（复制答案）。
- 需要增加一个问题详情页面，用于展示问题详情，包含：问题(包含信息：仪器类型，系列，型号，软件版本，问题详述)，答案，点赞（点赞数，点赞用户），复制（复制答案）。
- 需要增加后台管理，用于维护常见问答集，使用csv文件导入的方式增加问答，需要使用管理员账户登录初始账号和密码都为admin。

## 2. 目标用户

- **普通用户（游客与注册用户）**: 通过搜索和过滤，高效解决具体问题；通过浏览热门和最佳问答，学习和发现产品知识。
- **管理员/运营团队**: 管理知识分类体系（分类、机型、标签），监控用户关注点，分析数据以优化产品文档和支持策略，FAQ的所有内容都是有管理员维护。


## 3. 功能需求详述
### 3.1. 核心交互功能

#### 3.1.1. 搜索功能
- **全局搜索框**: 在问答集页面顶部提供一个醒目的搜索框。
- **搜索范围**: 搜索应覆盖问题标题、问题内容、答案内容以及相关标签。
- **实时反馈**: (可选) 实现搜索词输入时的即时建议或结果预览。

#### 3.1.2. 过滤系统
用户可以组合使用以下一个或多个过滤器来缩小问题列表的范围：
- **仪器类型 (Instrument Type)**: 按仪器类型进行过滤。
  - **实现方式**: 以标签或下拉菜单形式提供。
  - **示例**: `示波器`, `信号发生器`, `万用表`, `电源`等。
- **系列机型 (Instrument Series)**: 按具体的产品系列进行过滤。
  - **实现方式**: 级联选择或带搜索功能的下拉菜单。
  - **示例**: `ADS800A`, `ADS900A`, `ADS3000`等。
- **标签 (Tags)**: 按功能、技术点或问题属性进行过滤。
  - **实现方式**: 可多选的标签云或标签列表。
  - **示例**: `测量`, `触发`, `光标`, `FFT`, `XY`, `固件升级`, `PC软件`等。

#### 3.1.3. 排序与视图
在过滤结果的基础上，用户可以通过切换Tab或视图来对问题进行排序。
- Tab 包含：
  - **最新 (Latest)**:
    - **排序规则**: 按问题的创建时间降序排列，最新的在前。
    - **用途**: 方便用户查看社区的最新动态和新增问题。
  - **最佳排行 (Best)**:
    - **排序规则**: 按问题的累计“点赞数 (👍)”降序排列，点赞最多的在前。
    - **用途**: 帮助用户快速找到经过社区验证的高质量、高认可度的答案。
  - **关注排行 (Ranking)**:
    - **排序规则**: 按问题的累计“观看量 (Views)”降序排列，观看量最高的在前。
    - **用途**: 洞察在特定时期内最受关注的热点问题。
- 视图包含：
  - 列表（只显示问题标题，点赞数，观看量）
  - 卡片（显示问题标题，点赞数，观看量，问题详情，答案前300字）

- 最佳排行 和 关注排行, 视图下必须提供一个时间范围选择器（如下拉菜单），允许用户查看不同时间段内的排行：
    - `本周`
    - `本月`
    - `本季度`
    - `本年`
    - `总排行`


### 3.2. 列表与数据展示
- **列表项**: 每个问题在列表中应展示：
  - 问题标题
  - 关键指标：`回复数`, `观看量`, `点赞数`。
  - 相关标签和分类。
  - 最新活动时间。
- **详情页**: 点击问题进入详情页，展示完整的问答对话。

### 3.3. 管理员后台功能
- **分类管理**: 增、删、改、查产品分类。
- **系列机型管理**: 增、删、改、查系列机型，并可与“分类”关联。
- **标签管理**: 增、删、改、查标签，查看各标签下的问题数量。
- **问答管理**: 管理员可以为问题添加或移除标签、分类和机型，以保证知识库的整洁和准确。

## 4. 数据库设计要点
- **`questions` 表**:
  - `id`, `title`, `content`, `created_at`
  - `category_id` (ForeignKey to `categories`)
  - `product_model_id` (ForeignKey to `product_models`)
  - `views_count` (Integer, default 0)
  - `likes_count` (Integer, default 0, denormalized for performance)
- **`categories` 表**:
  - `id`, `name`, `description`
- **`product_models` 表**:
  - `id`, `name`, `category_id` (ForeignKey to `categories`)
- **`tags` 表**:
  - `id`, `name`
- **`question_tags` (中间表)**:
  - `question_id`, `tag_id`
- **`likes` 表**:
  - `id`, `question_id` (或 `answer_id`), `user_id`, `created_at`

## 5. API 设计要点

- **`GET /api/qna`**:
  - **功能**: 获取问答集列表的核心接口。
  - **参数**:
    - `search`: 搜索关键词 (string)
    - `category`: 分类ID (integer)
    - `model`: 机型ID (integer)
    - `tags`: 标签ID列表，逗号分隔 (string, e.g., "1,5,12")
    - `sort_by`: 排序方式 (`latest`, `best`, `ranking`)
    - `period`: 时间周期，当 `sort_by=ranking` 时生效 (`week`, `month`, `quarter`, `year`, `all`)
  - **返回**: 分页的问答列表。
- **`GET /api/filters`**:
  - **功能**: 获取所有可用的过滤器选项。
  - **返回**: `{ "categories": [...], "models": [...], "tags": [...] }`，用于前端动态生成过滤菜单。

## 6. 非功能性需求

- **性能**: 复杂的过滤和排序查询响应时间应在1秒以内。需要对数据库查询进行优化，并可能使用缓存。
- **可用性**: 过滤和排序控件必须直观易用，在移动设备上也要有良好的体验。
- **数据准确性**: 观看量、点赞数等统计数据必须准确。观看量应有防刷机制（如限制同一用户短时间内的重复计数）。 